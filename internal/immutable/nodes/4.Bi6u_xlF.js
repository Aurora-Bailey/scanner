import{t as f,a as d,c as G}from"../chunks/BdhtFqiG.js";import"../chunks/QcEuE8WI.js";import{B as L,a0 as H,a3 as I,a4 as J,a2 as K,Y as m,X as b,g as e,m as N,Z as o,W as x,n as Q,a1 as R,a5 as V,s as ee}from"../chunks/B5NlVW1R.js";import{s as S,e as T}from"../chunks/DJTxqxkt.js";import{i as q}from"../chunks/DHLh3Go0.js";import{t as te,e as y,i as w,s as ae,a as $}from"../chunks/CjwCq3FR.js";import{b as se}from"../chunks/CIm7nDxW.js";import{i as re}from"../chunks/CscDqrFY.js";import{s as oe,a as ie}from"../chunks/BQhsLa98.js";import{o as ne,a as le}from"../chunks/BNhw6wZP.js";import{s as ve}from"../chunks/CmzvRsKH.js";function ce(l,u,A,k){var h=l.__style;if(L||h!==u){var s=te(u);(!L||s!==l.getAttribute("style"))&&(s==null?l.removeAttribute("style"):l.style.cssText=s),l.__style=u}return k}const de=!0,Ee=Object.freeze(Object.defineProperty({__proto__:null,prerender:de},Symbol.toStringTag,{value:"Module"}));var pe=f("<button> </button>"),fe=f('<div><video autoplay playsinline="" class="rounded shadow transition-transform duration-300 cursor-pointer"></video></div>',2),ue=f('<img class="h-24 rounded">'),_e=f('<div class="flex items-center justify-between gap-4 p-4 bg-cyan-600 text-lg rounded shadow"><button class="text-white hover:text-red-400 transition"><svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <span class="flex-1 text-white truncate"> </span> <div class="flex gap-1"></div> <button class="hover:text-lime-400 transition"><svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></button></div>'),ge=f('<div class="w-full flex flex-col gap-2 mt-6"></div>'),me=f('<section class="flex flex-col items-center gap-4 p-4"><div class="flex flex-wrap justify-center gap-2"></div> <div class="flex items-center justify-between gap-4 p-4 text-lg rounded shadow"></div> <!></section>');function Oe(l,u){H(u,!1);const[A,k]=oe(),h=()=>ie(ve,"$scanner",A);let s=N([]),D=[];const z=a=>{a.rotation=(a.rotation+90)%360,ee(s,[...e(s)])},P=a=>{},U=a=>{};ne(async()=>{}),le(()=>{e(s).forEach(a=>U())}),I(()=>h(),()=>{h()}),J(),re();var j=me(),C=m(j);y(C,5,()=>e(s),w,(a,t)=>{var i=pe();let n;var v=m(i);o(i),x(_=>{n=ae(i,1,"px-4 py-2 rounded shadow transition",null,n,_),S(v,`${e(t).device.label||"Unnamed Camera"} ${e(t).active?"ðŸŸ¢":"âšª"}`)},[()=>({"bg-green-700":e(t).active,"bg-gray-800":!e(t).active,"text-white":!0})],Q),T("click",i,()=>P(e(t))),d(a,i)}),o(C);var M=b(C,2);y(M,5,()=>e(s),w,(a,t,i)=>{var n=G(),v=R(n);{var _=g=>{var c=fe(),p=m(c);se(p,(r,B)=>(B.videoEl=r,V(()=>e(s))),r=>r==null?void 0:r.videoEl,()=>[e(t)]),o(c),x(()=>ce(p,`transform: rotate(${e(t).rotation??""}deg);`)),T("click",p,()=>z(e(t))),d(g,c)};q(v,g=>{e(t).active&&g(_)})}d(a,n)}),o(M);var W=b(M,2);{var X=a=>{var t=ge();y(t,5,()=>[...D].reverse(),w,(i,n,v)=>{let _=()=>e(n).scan,g=()=>e(n).image;var c=_e(),p=m(c);$(p,"aria-label",`Delete scan ${v+1}`);var r=b(p,2),B=m(r,!0);o(r);var E=b(r,2);y(E,5,g,w,(Z,F)=>{var O=ue();$(O,"alt",`Capture ${v+1}`),x(()=>$(O,"src",e(F))),d(Z,O)}),o(E);var Y=b(E,2);$(Y,"aria-label",`Confirm scan ${v+1}`),o(c),x(()=>S(B,_())),d(i,c)}),o(t),d(a,t)};q(W,a=>{D.length&&a(X)})}o(j),d(l,j),K(),k()}export{Oe as component,Ee as universal};
