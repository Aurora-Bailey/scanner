import{t as k,a as x}from"../chunks/AC61ihKW.js";import"../chunks/CtmZgqb-.js";import{Z as F,_ as G,a0 as J,a1 as N,W as e,X as v,s as K,g as a,m as S,Y as l,a2 as Q,V as tt}from"../chunks/BrSCEJBA.js";import{e as n,s as et}from"../chunks/CVohdc8L.js";import{i as at}from"../chunks/B0vC7geI.js";import{e as ot,s as c,i as st}from"../chunks/s7Kpw3N-.js";import{b as rt}from"../chunks/DmVSQ2E4.js";import{i as nt}from"../chunks/Dh0o42D0.js";import{s as it,a as lt}from"../chunks/BqqiKuja.js";import{o as ct}from"../chunks/rwu-9rGJ.js";import{s as ut}from"../chunks/-rJQLdYT.js";const vt=!0,jt=Object.freeze(Object.defineProperty({__proto__:null,prerender:vt},Symbol.toStringTag,{value:"Module"}));var pt=k('<div class="flex items-center justify-between gap-4 p-4 bg-cyan-600 text-lg rounded shadow"><button class="text-white hover:text-red-400 transition"><svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <span class="flex-1 text-white truncate"> </span> <div class="flex gap-1"><img class="h-24 rounded"> <img class="h-24 rounded"></div> <button class="hover:text-lime-400 transition"><svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></button></div>'),dt=k('<div class="w-full flex flex-col gap-2"></div>'),mt=k('<section class="flex flex-col items-center gap-4 p-4"><div><button>4K (3840x2160)</button> <button>4K (2160x3840)</button> <button>1080p (1920x1080)</button> <button>1080p (1080x1920)</button> <button>720p (1280x720)</button> <button>720p (720x1280)</button> <button>405p (720x405)</button> <button>405p (405x720)</button></div>  <video autoplay playsinline="" class="rounded shadow"></video> <!></section>',2);function Mt(T,U){F(U,!1);const[W,z]=it(),d=()=>lt(ut,"$scanner",W);let i=null,o=S(),u=S([]);const s=async(t,r)=>{i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:t},height:{ideal:r}},audio:!1}),Q(o,a(o).srcObject=i)},H=()=>{i==null||i.getTracks().forEach(t=>t.stop()),i=null},P=()=>{if(!a(o))return null;const t=document.createElement("canvas");t.width=a(o).videoWidth,t.height=a(o).videoHeight;const r=t.getContext("2d");return r?(r.drawImage(a(o),0,0),t.toDataURL("image/png")):null};ct(H),G(()=>(d(),a(u)),()=>{d()&&K(u,[...a(u),{scan:d(),image:P()}])}),J(),nt();var m=mt(),b=v(m),w=v(b),y=e(w,2),$=e(y,2),C=e($,2),j=e(C,2),M=e(j,2),D=e(M,2),R=e(D,2);l(b);var L=e(b,2);rt(L,t=>K(o,t),()=>a(o));var V=e(L,2);{var X=t=>{var r=dt();ot(r,5,()=>[...a(u)].reverse(),st,(Y,O,p)=>{let Z=()=>a(O).scan,B=()=>a(O).image;var g=pt(),E=v(g);c(E,"aria-label",`Delete scan ${p+1}`);var f=e(E,2),q=v(f,!0);l(f);var _=e(f,2),h=v(_);c(h,"alt",`Capture ${p+1}`);var I=e(h,2);c(I,"alt",`Capture ${p+1}`),l(_);var A=e(_,2);c(A,"aria-label",`Confirm scan ${p+1}`),l(g),tt(()=>{et(q,Z()),c(h,"src",B()),c(I,"src",B())}),x(Y,g)}),l(r),x(t,r)};at(V,t=>{a(u).length&&t(X)})}l(m),n("click",w,()=>s(3840,2160)),n("click",y,()=>s(2160,3840)),n("click",$,()=>s(1920,1080)),n("click",C,()=>s(1080,1920)),n("click",j,()=>s(1280,720)),n("click",M,()=>s(720,1280)),n("click",D,()=>s(720,405)),n("click",R,()=>s(405,720)),x(T,m),N(),z()}export{Mt as component,jt as universal};
